{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/davidlqlb/Desktop/clon-proyecto-jaime/full_app_front/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport SignUp from './components/SignUp';\nimport Home from './components/Home';\nimport AllExercises from './components/AllExercises';\nimport IndividualManga from './components/DetailsExercise';\nimport LogIn from './components/LogIn';\nimport UserProfile from './components/UserProfile';\nimport Navbar from './components/Navbar';\nimport { Link, Route, Redirect } from 'react-router-dom';\nimport UserService from './services/UserService';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getTheUser = userObj => {\n      this.setState({\n        loggedInUser: userObj\n      });\n    };\n\n    this.getProfilePublicId = id => {\n      this.setState({\n        publicProfileId: id\n      });\n    };\n\n    this.changeAvatar = avatarUrl => {\n      const copyUser = { ...this.state.loggedInUser,\n        imgPath: avatarUrl\n      };\n      this.setState({\n        loggedInUser: copyUser\n      });\n    };\n\n    this.changeUserInfo = userInfo => {\n      const copyUser = { ...this.state.loggedInUser,\n        name: userInfo.name,\n        lastName: userInfo.lastName\n      };\n      this.setState({\n        loggedInUser: copyUser\n      });\n    };\n\n    this.logOut = () => {\n      this.service.logout().then(result => {\n        console.log(result);\n        this.checkIfLoggedIn();\n      }).catch(err => console.log(err));\n    };\n\n    this.state = {\n      loggedInUser: null,\n      publicProfileId: ''\n    };\n    this.service = new UserService();\n  }\n\n  fetchUser() {\n    if (this.state.loggedInUser === null) {\n      console.log('entra aqui');\n      this.service.loggedin().then(response => {\n        this.setState({\n          loggedInUser: response\n        });\n      }).catch(err => {\n        this.setState({\n          loggedInUser: false\n        });\n      });\n    }\n  }\n\n  render() {\n    this.fetchUser();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        loggedInUser: this.state.loggedInUser,\n        logOut: this.logOut\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        render: () => /*#__PURE__*/_jsxDEV(Home, {\n          loggedInUser: this.state.loggedInUser,\n          logOut: this.logOut\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/all-exercises\",\n        component: AllExercises\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/all-exercises/:id\",\n        render: props => {\n          return /*#__PURE__*/_jsxDEV(IndividualManga, { ...props,\n            loggedInUser: this.state.loggedInUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 14\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signup\",\n        render: () => !this.state.loggedInUser ? /*#__PURE__*/_jsxDEV(SignUp, {\n          submitSignUp: this.submitSignUp,\n          newUser: this.state.newUser,\n          changeHandlerSignUp: this.changeHandlerSignUp,\n          getUser: this.getTheUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 8\n        }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        render: () => !this.state.loggedInUser ? /*#__PURE__*/_jsxDEV(LogIn, {\n          getUser: this.getTheUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 34\n        }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 72\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/davidlqlb/Desktop/clon-proyecto-jaime/full_app_front/src/App.js"],"names":["React","SignUp","Home","AllExercises","IndividualManga","LogIn","UserProfile","Navbar","Link","Route","Redirect","UserService","App","Component","constructor","props","getTheUser","userObj","setState","loggedInUser","getProfilePublicId","id","publicProfileId","changeAvatar","avatarUrl","copyUser","state","imgPath","changeUserInfo","userInfo","name","lastName","logOut","service","logout","then","result","console","log","checkIfLoggedIn","catch","err","fetchUser","loggedin","response","render","submitSignUp","newUser","changeHandlerSignUp"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\n\n\nimport SignUp from './components/SignUp';\nimport Home from './components/Home';\nimport AllExercises from './components/AllExercises';\nimport IndividualManga from './components/DetailsExercise';\nimport LogIn from './components/LogIn';\nimport UserProfile from './components/UserProfile';\nimport Navbar from './components/Navbar';\n\nimport { Link, Route, Redirect } from 'react-router-dom';\n\nimport UserService from './services/UserService';\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloggedInUser: null,\n\t\t\tpublicProfileId: ''\n\t\t};\n\t\tthis.service = new UserService();\n\t}\n\n\tfetchUser() {\n\t\tif (this.state.loggedInUser === null) {\n\t\t\tconsole.log('entra aqui')\n\t\t\tthis.service\n\t\t\t\t.loggedin()\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tloggedInUser: response\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tloggedInUser: false\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t}\n\n\tgetTheUser = (userObj) => {\n\t\tthis.setState({\n\t\t\tloggedInUser: userObj\n\t\t});\n\t};\n\n\tgetProfilePublicId = (id) => {\n\t\tthis.setState({\n\t\t\tpublicProfileId: id\n\t\t});\n\t};\n\tchangeAvatar = (avatarUrl) => {\n\t\tconst copyUser = { ...this.state.loggedInUser, imgPath: avatarUrl };\n\t\tthis.setState({\n\t\t\tloggedInUser: copyUser\n\t\t});\n\t};\n\tchangeUserInfo = (userInfo) => {\n\t\tconst copyUser = { ...this.state.loggedInUser, name: userInfo.name, lastName: userInfo.lastName };\n\t\tthis.setState({ loggedInUser: copyUser });\n\t};\n\n\tlogOut = ()=>{\n\t\tthis.service.logout()\n\t\t.then((result)=>{\n\t\t  console.log(result)\n\t\t  this.checkIfLoggedIn()\n\t\t})\n\t\t.catch(err => console.log(err))\n\t  }\n\n\trender() {\n\t\tthis.fetchUser()\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<Navbar loggedInUser={this.state.loggedInUser} logOut={this.logOut}/>\n\n\t\t\t\t<Route exact path=\"/\" render={() => <Home loggedInUser={this.state.loggedInUser} logOut={this.logOut} />} />\n\t\t\t\t<Route exact path=\"/all-exercises\" component={AllExercises} />\n\t\t\t\t{/* <Route path=\"/all-mangas/:id\" render={()=><Individualmanga} /> */}\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/all-exercises/:id\"\n\t\t\t\t\trender={(props) => {\n\t\t\t\t\t\treturn <IndividualManga {...props} loggedInUser={this.state.loggedInUser} />;\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/signup\"\n\t\t\t\t\trender={() =>\n\t\t\t\t\t\t!this.state.loggedInUser ? (\n\t\t\t\t\t\t\t<SignUp\n\t\t\t\t\t\t\t\tsubmitSignUp={this.submitSignUp}\n\t\t\t\t\t\t\t\tnewUser={this.state.newUser}\n\t\t\t\t\t\t\t\tchangeHandlerSignUp={this.changeHandlerSignUp}\n\t\t\t\t\t\t\t\tgetUser={this.getTheUser}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Redirect to=\"/\" />\n\t\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/login\"\n\t\t\t\t\trender={() =>\n\t\t\t\t\t\t!this.state.loggedInUser ? <LogIn getUser={this.getTheUser} /> : <Redirect to=\"/\" />}\n\t\t\t\t/>\n\t\t\t\t{/* {this.state.loggedInUser && (\n\t\t\t\t\t<Route path=\"/profile\" render={() => <Profile loggedInUser={this.state.loggedInUser} />} />\n\t\t\t\t)} */}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}